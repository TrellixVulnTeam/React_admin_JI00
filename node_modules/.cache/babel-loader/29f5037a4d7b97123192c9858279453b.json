{"ast":null,"code":"import _objectSpread from\"C:/Users/itryl/Desktop/React client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _classCallCheck from\"C:/Users/itryl/Desktop/React client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/itryl/Desktop/React client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/itryl/Desktop/React client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/itryl/Desktop/React client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import React,{PureComponent}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Item=_Form.Item;var Option=_Select.Option;/*\r\n添加/修改用户的form组件\r\n */var UserForm=/*#__PURE__*/function(_PureComponent){_inherits(UserForm,_PureComponent);var _super=_createSuper(UserForm);function UserForm(){_classCallCheck(this,UserForm);return _super.apply(this,arguments);}_createClass(UserForm,[{key:\"componentWillMount\",value:function componentWillMount(){this.props.setForm(this.props.form);}},{key:\"render\",value:function render(){var _this$props=this.props,roles=_this$props.roles,user=_this$props.user;var getFieldDecorator=this.props.form.getFieldDecorator;// 指定Item布局的配置对象\nvar formItemLayout={labelCol:{span:4},// 左侧label的宽度\nwrapperCol:{span:15}// 右侧包裹的宽度\n};return/*#__PURE__*/_jsxs(_Form,_objectSpread(_objectSpread({},formItemLayout),{},{children:[/*#__PURE__*/_jsx(Item,{label:\"\\u7528\\u6237\\u540D\",children:getFieldDecorator('username',{initialValue:user.username})(/*#__PURE__*/_jsx(_Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\"}))}),user._id?null:/*#__PURE__*/_jsx(Item,{label:\"\\u5BC6\\u7801\",children:getFieldDecorator('password',{initialValue:user.password})(/*#__PURE__*/_jsx(_Input,{type:\"password\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\"}))}),/*#__PURE__*/_jsx(Item,{label:\"\\u624B\\u673A\\u53F7\",children:getFieldDecorator('phone',{initialValue:user.phone})(/*#__PURE__*/_jsx(_Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\"}))}),/*#__PURE__*/_jsx(Item,{label:\"\\u90AE\\u7BB1\",children:getFieldDecorator('email',{initialValue:user.email})(/*#__PURE__*/_jsx(_Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u90AE\\u7BB1\"}))}),/*#__PURE__*/_jsx(Item,{label:\"\\u89D2\\u8272\",children:getFieldDecorator('role_id',{initialValue:user.role_id})(/*#__PURE__*/_jsx(_Select,{children:roles.map(function(role){return/*#__PURE__*/_jsx(Option,{value:role._id,children:role.name},role._id);})}))})]}));}}]);return UserForm;}(PureComponent);export default _Form.create()(UserForm);","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/pages/user/user-form.jsx"],"names":["React","PureComponent","Item","Option","UserForm","props","setForm","form","roles","user","getFieldDecorator","formItemLayout","labelCol","span","wrapperCol","initialValue","username","_id","password","phone","email","role_id","map","role","name","create"],"mappings":"88BAAA,MAAOA,CAAAA,KAAP,EAAeC,aAAf,KAAmC,OAAnC,C,wFAQA,GAAMC,CAAAA,IAAI,CAAG,MAAKA,IAAlB,CACA,GAAMC,CAAAA,MAAM,CAAG,QAAOA,MAAtB,CAEA;AACA;AACA,G,GACMC,CAAAA,Q,2PAQJ,6BAAsB,CACpB,KAAKC,KAAL,CAAWC,OAAX,CAAmB,KAAKD,KAAL,CAAWE,IAA9B,EACD,C,sBAED,iBAAS,CAEP,gBAAsB,KAAKF,KAA3B,CAAOG,KAAP,aAAOA,KAAP,CAAcC,IAAd,aAAcA,IAAd,CACA,GAAQC,CAAAA,iBAAR,CAA8B,KAAKL,KAAL,CAAWE,IAAzC,CAAQG,iBAAR,CACA;AACA,GAAMC,CAAAA,cAAc,CAAG,CACrBC,QAAQ,CAAE,CAAEC,IAAI,CAAE,CAAR,CADW,CACG;AACxBC,UAAU,CAAE,CAAED,IAAI,CAAE,EAAR,CAAc;AAFL,CAAvB,CAKA,mBACE,2CAAUF,cAAV,6BACE,KAAC,IAAD,EAAM,KAAK,CAAC,oBAAZ,UAEID,iBAAiB,CAAC,UAAD,CAAa,CAC5BK,YAAY,CAAEN,IAAI,CAACO,QADS,CAAb,CAAjB,cAGE,aAAO,WAAW,CAAC,sCAAnB,EAHF,CAFJ,EADF,CAYIP,IAAI,CAACQ,GAAL,CAAW,IAAX,cACE,KAAC,IAAD,EAAM,KAAK,CAAC,cAAZ,UAEIP,iBAAiB,CAAC,UAAD,CAAa,CAC5BK,YAAY,CAAEN,IAAI,CAACS,QADS,CAAb,CAAjB,cAGE,aAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,gCAAnC,EAHF,CAFJ,EAbN,cAyBE,KAAC,IAAD,EAAM,KAAK,CAAC,oBAAZ,UAEIR,iBAAiB,CAAC,OAAD,CAAU,CACzBK,YAAY,CAAEN,IAAI,CAACU,KADM,CAAV,CAAjB,cAGE,aAAO,WAAW,CAAC,sCAAnB,EAHF,CAFJ,EAzBF,cAkCE,KAAC,IAAD,EAAM,KAAK,CAAC,cAAZ,UAEIT,iBAAiB,CAAC,OAAD,CAAU,CACzBK,YAAY,CAAEN,IAAI,CAACW,KADM,CAAV,CAAjB,cAGE,aAAO,WAAW,CAAC,gCAAnB,EAHF,CAFJ,EAlCF,cA4CE,KAAC,IAAD,EAAM,KAAK,CAAC,cAAZ,UAEIV,iBAAiB,CAAC,SAAD,CAAY,CAC3BK,YAAY,CAAEN,IAAI,CAACY,OADQ,CAAZ,CAAjB,cAGE,uBAEIb,KAAK,CAACc,GAAN,CAAU,SAAAC,IAAI,qBAAI,KAAC,MAAD,EAAuB,KAAK,CAAEA,IAAI,CAACN,GAAnC,UAAyCM,IAAI,CAACC,IAA9C,EAAaD,IAAI,CAACN,GAAlB,CAAJ,EAAd,CAFJ,EAHF,CAFJ,EA5CF,IADF,CA4DD,C,sBAlFoBhB,a,EAqFvB,cAAe,OAAKwB,MAAL,GAAcrB,QAAd,CAAf","sourcesContent":["import React, {PureComponent} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Form,\r\n  Select,\r\n  Input\r\n} from 'antd'\r\n\r\nconst Item = Form.Item\r\nconst Option = Select.Option\r\n\r\n/*\r\n添加/修改用户的form组件\r\n */\r\nclass UserForm extends PureComponent {\r\n\r\n  static propTypes = {\r\n    setForm: PropTypes.func.isRequired, // 用来传递form对象的函数\r\n    roles: PropTypes.array.isRequired,\r\n    user: PropTypes.object\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.props.setForm(this.props.form)\r\n  }\r\n\r\n  render() {\r\n\r\n    const {roles, user} = this.props\r\n    const { getFieldDecorator } = this.props.form\r\n    // 指定Item布局的配置对象\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 },  // 左侧label的宽度\r\n      wrapperCol: { span: 15 }, // 右侧包裹的宽度\r\n    }\r\n\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        <Item label='用户名'>\r\n          {\r\n            getFieldDecorator('username', {\r\n              initialValue: user.username,\r\n            })(\r\n              <Input placeholder='请输入用户名'/>\r\n            )\r\n          }\r\n        </Item>\r\n\r\n        {\r\n          user._id ? null : (\r\n            <Item label='密码'>\r\n              {\r\n                getFieldDecorator('password', {\r\n                  initialValue: user.password,\r\n                })(\r\n                  <Input type='password' placeholder='请输入密码'/>\r\n                )\r\n              }\r\n            </Item>\r\n          )\r\n        }\r\n\r\n        <Item label='手机号'>\r\n          {\r\n            getFieldDecorator('phone', {\r\n              initialValue: user.phone,\r\n            })(\r\n              <Input placeholder='请输入手机号'/>\r\n            )\r\n          }\r\n        </Item>\r\n        <Item label='邮箱'>\r\n          {\r\n            getFieldDecorator('email', {\r\n              initialValue: user.email,\r\n            })(\r\n              <Input placeholder='请输入邮箱'/>\r\n            )\r\n          }\r\n        </Item>\r\n\r\n        <Item label='角色'>\r\n          {\r\n            getFieldDecorator('role_id', {\r\n              initialValue: user.role_id,\r\n            })(\r\n              <Select>\r\n                {\r\n                  roles.map(role => <Option key={role._id} value={role._id}>{role.name}</Option>)\r\n                }\r\n              </Select>\r\n            )\r\n          }\r\n        </Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(UserForm)"]},"metadata":{},"sourceType":"module"}