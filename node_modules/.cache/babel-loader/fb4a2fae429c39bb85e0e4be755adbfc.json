{"ast":null,"code":"import _defineProperty from\"C:/Users/itryl/Desktop/React client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import ajax from'./ajax';import jsonp from'jsonp';//包含应用中所有接口请求函数的模块，每个函数的返回值都是promise\n// const BASE='http://localhost:xxxx' \n//1.登录的方法\n// export function reqLogin(username,password){\n//     return ajax('login',{username,password},'POST')\n// }\n// export const reqLogin=(username,password)=>{return ajax('login',{username,password},'POST')}\nexport var reqLogin=function reqLogin(username,password){return ajax('/login',{username:username,password:password},'POST');};//2.添加/更新用户的接口 \nexport var reqAddOrUpdateUser=function reqAddOrUpdateUser(user){return ajax('/manage/user/'+(user._id?'update':'add'),user,'POST');};//3.查询天气的接口 jsonp\nexport var reqWeather=function reqWeather(city){return new Promise(function(resolve,reject){var url=\"https://restapi.amap.com/v3/weather/weatherInfo?key=415e6bd79a6275825d0891f821766054&city=\".concat(city,\"&extensions=base&output=JSON\");//发送jsonp请求\njsonp(url,{},function(error,data){// console.log(\"jsonp\",error,data)\n//如果成功了\nif(!error&&data.status==='1'){//取出需要的数据\nvar _data$lives$=data.lives[0],_city=_data$lives$.city,weather=_data$lives$.weather,temperature=_data$lives$.temperature;resolve({city:_city,weather:weather,temperature:temperature});//   console.log(city,weather,temperature)\n}else{//失败了\n_message.error('获取天气信息失败');}});});};// reqWeather('410100')\n//4.获取分类一级、二级分类的列表\n// export const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId:parentId})\nexport var reqCategorys=function reqCategorys(parentId){return ajax('/manage/category/list',{parentId:parentId});};// 5.添加分类\nexport var reqAddCategory=function reqAddCategory(categoryName,parentId){return ajax('/manage/category/add',{categoryName:categoryName,parentId:parentId},\"POST\");};//6.更新分类\nexport var reqUpdateCategory=function reqUpdateCategory(_ref){var categoryId=_ref.categoryId,categoryName=_ref.categoryName;return ajax('/manage/category/update',{categoryId:categoryId,categoryName:categoryName},\"POST\");};//7.获取商品分页列表的方法\nexport var reqProducts=function reqProducts(pageNum,pageSize){return ajax('/manage/product/list',{pageNum:pageNum,pageSize:pageSize});};//8.搜索商品分页列表\n//搜索的类型   productName/productDesc\nexport var reqSearchProducts=function reqSearchProducts(_ref2){var pageSize=_ref2.pageSize,pageNum=_ref2.pageNum,searchName=_ref2.searchName,searchType=_ref2.searchType;return ajax('/manage/product/search',_defineProperty({pageNum:pageNum,pageSize:pageSize},searchType,searchName));};//9.获取id一个分类\nexport var reqCategory=function reqCategory(categoryId){return ajax('/manage/category/info',{categoryId:categoryId});};//10.更新商品的上架，下架\nexport var reqUpdateSataus=function reqUpdateSataus(productId,status){return ajax('/manage/product/updateStatus',{productId:productId,status:status},'POST');};//11.删除上传图片的接口\nexport var reqDeleteImg=function reqDeleteImg(name){return ajax('/manage/img/delete',{name:name},'POST');};//12.添加/修改商品\nexport var reqAddProductOrUpdateProduct=function reqAddProductOrUpdateProduct(product){return ajax('/manage/product/'+(product._id?'update':'add'),product,'POST');};//12.获取所有角色的列表\nexport var reqRoles=function reqRoles(){return ajax('/manage/role/list');};//13.添加角色的方法\nexport var reqAddRole=function reqAddRole(roleName){return ajax('/manage/role/add',{roleName:roleName},\"POST\");};//14 .更新角色权限的方法\nexport var reqUpdateRole=function reqUpdateRole(role){return ajax('/manage/role/update',role,'POST');};//15.获取所有用户的方法\nexport var reqUsers=function reqUsers(){return ajax('/manage/user/list',\"GET\");};//16.删除指定用户的方法\nexport var reqDeleteUser=function reqDeleteUser(userId){return ajax('/manage/user/delete',{userId:userId},'POST');};","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqAddOrUpdateUser","user","_id","reqWeather","city","Promise","resolve","reject","url","error","data","status","lives","weather","temperature","reqCategorys","parentId","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqProducts","pageNum","pageSize","reqSearchProducts","searchName","searchType","reqCategory","reqUpdateSataus","productId","reqDeleteImg","name","reqAddProductOrUpdateProduct","product","reqRoles","reqAddRole","roleName","reqUpdateRole","role","reqUsers","reqDeleteUser","userId"],"mappings":"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","sourcesContent":["import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\nimport { message } from 'antd'\r\n\r\n//包含应用中所有接口请求函数的模块，每个函数的返回值都是promise\r\n// const BASE='http://localhost:xxxx' \r\n//1.登录的方法\r\n\r\n// export function reqLogin(username,password){\r\n//     return ajax('login',{username,password},'POST')\r\n// }\r\n\r\n// export const reqLogin=(username,password)=>{return ajax('login',{username,password},'POST')}\r\nexport const reqLogin=(username,password)=> ajax('/login',{username,password},'POST')\r\n\r\n\r\n//2.添加/更新用户的接口 \r\nexport const reqAddOrUpdateUser = (user) => ajax('/manage/user/'+(user._id ? 'update' : 'add'), user, 'POST')\r\n\r\n\r\n//3.查询天气的接口 jsonp\r\nexport const reqWeather=(city)=>{\r\n\r\n    return new Promise((resolve,reject)=>{\r\n        const url=`https://restapi.amap.com/v3/weather/weatherInfo?key=415e6bd79a6275825d0891f821766054&city=${city}&extensions=base&output=JSON`\r\n        //发送jsonp请求\r\n        jsonp(url,{},(error,data)=>{\r\n            // console.log(\"jsonp\",error,data)\r\n            //如果成功了\r\n            if(!error&&data.status==='1'){\r\n                //取出需要的数据\r\n                const {city,weather,temperature}=data.lives[0]\r\n                resolve({city,weather,temperature})\r\n            //   console.log(city,weather,temperature)\r\n            }else{\r\n            //失败了\r\n                message.error('获取天气信息失败')\r\n            }\r\n        })\r\n    })\r\n  \r\n}\r\n// reqWeather('410100')\r\n\r\n//4.获取分类一级、二级分类的列表\r\n// export const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId:parentId})\r\nexport const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId})\r\n\r\n// 5.添加分类\r\nexport const reqAddCategory=(categoryName,parentId)=>ajax('/manage/category/add',{categoryName,parentId},\"POST\")\r\n\r\n//6.更新分类\r\nexport const reqUpdateCategory=({categoryId,categoryName})=>ajax('/manage/category/update',{categoryId,categoryName},\"POST\")\r\n\r\n//7.获取商品分页列表的方法\r\nexport const reqProducts=(pageNum,pageSize)=>ajax('/manage/product/list',{pageNum,pageSize})\r\n\r\n//8.搜索商品分页列表\r\n//搜索的类型   productName/productDesc\r\nexport const reqSearchProducts=({pageSize,pageNum,searchName,searchType})=>ajax('/manage/product/search',{\r\n    pageNum,\r\n    pageSize,\r\n    [searchType]:searchName\r\n})\r\n\r\n//9.获取id一个分类\r\nexport const reqCategory=(categoryId)=>ajax('/manage/category/info',{categoryId})\r\n\r\n//10.更新商品的上架，下架\r\nexport const reqUpdateSataus=(productId,status)=>ajax('/manage/product/updateStatus',{productId,status},'POST')\r\n\r\n//11.删除上传图片的接口\r\nexport const reqDeleteImg=(name)=>ajax('/manage/img/delete',{name},'POST')\r\n\r\n//12.添加/修改商品\r\nexport const reqAddProductOrUpdateProduct=(product)=>ajax('/manage/product/'+(product._id?'update':'add'),product,'POST')\r\n\r\n//12.获取所有角色的列表\r\nexport  const reqRoles=()=>ajax('/manage/role/list')\r\n\r\n//13.添加角色的方法\r\nexport const reqAddRole=(roleName)=>ajax('/manage/role/add',{roleName},\"POST\")\r\n//14 .更新角色权限的方法\r\nexport const reqUpdateRole=(role)=>ajax('/manage/role/update',role,'POST')\r\n\r\n//15.获取所有用户的方法\r\nexport const reqUsers=()=>ajax('/manage/user/list',\"GET\")\r\n\r\n//16.删除指定用户的方法\r\nexport const reqDeleteUser=(userId)=>ajax('/manage/user/delete',{userId},'POST')\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}