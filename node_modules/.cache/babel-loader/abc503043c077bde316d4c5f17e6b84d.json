{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"C:\\\\Users\\\\itryl\\\\Desktop\\\\React client\\\\client\\\\src\\\\pages\\\\category\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport './index.less';\nimport LinkButton from '../../components/link-button';\nimport { reqCategorys } from '../../api/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Category extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categorys: [],\n      //一级分类列表\n      subCategorys: [],\n      //二级分类列表\n      loading: false,\n      //是否正在获取数据\n      parentId: '0',\n      //当前需要显示的分类列表的父分类ID\n      parentName: '',\n      //当前需要显示的分类列表的父分类名称\n      showStatus: 0 //标识添加/更新的确认框是否显示，0：都不显示  1：显示添加 2：显示更新\n\n    };\n\n    this.initColumns = () => {\n      this.columns = [{\n        title: '分类的名称',\n        dataIndex: 'name',\n        //显示数据的对应的属性名\n        key: 'name'\n      }, {\n        title: '操作',\n        width: 300,\n        dataIndex: '',\n        //显示数据的对应的属性名\n        key: 'x',\n        render: categorys =>\n        /*#__PURE__*/\n        //返回需要指定的界面标签\n        _jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n            onClick: this.update,\n            children: \"\\u4FEE\\u6539\\u5206\\u7C7B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this), this.state.parentId === '0' ? /*#__PURE__*/_jsxDEV(LinkButton, {\n            onClick: () => {\n              this.showSubCategorys(categorys);\n            },\n            children: \"\\u67E5\\u770B\\u5B50\\u5206\\u7C7B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 56\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }];\n    };\n\n    this.addCategory = () => {\n      console.log('添加分类');\n      this.setState({\n        showStatus: 0\n      });\n    };\n\n    this.updateCategory = () => {\n      this.setState({\n        showStatus: 0\n      });\n    };\n\n    this.handleCancel = () => {\n      console.log('更新分类');\n      this.setState({\n        showStatus: 0\n      });\n    };\n\n    this.showFirstCategorys = () => {\n      this.setState({\n        parentId: '0',\n        parentName: '',\n        subCategorys: []\n      });\n    };\n\n    this.showSubCategorys = categorys => {\n      //更新状态(异步更新) setState不能立即获取最新的状态：因为setState是异步更新的\n      this.setState({\n        parentId: categorys._id,\n        parentName: categorys.name\n      }, () => {\n        //  console.log(this.state.parentId)  //在状态更新后且render()后执行\n        this.getCategorys();\n      }); //二级分类列表\n      // console.log(this.state.parentId,'21321')\n      //  this.getCategorys()\n    };\n\n    this.getCategorys = async () => {\n      //在发送请求前,显示loading\n      this.setState({\n        loading: true\n      }); //发异步ajax请求，获取数据\n\n      const {\n        parentId\n      } = this.state;\n      const res = await reqCategorys(parentId); //在请求完成后,隐藏loading\n\n      this.setState({\n        loading: false\n      });\n\n      if (res.status === 0) {\n        const categorys = res.data; //这个数组可能是一级的，也可能是二级的数组\n        //更新状态\n\n        if (parentId === '0') {\n          //更新一级分类状态\n          this.setState({\n            categorys: categorys\n          });\n        } else {}\n\n        this.setState({\n          subCategorys: categorys\n        });\n      } else {\n        _message.error('获取分类列表失败');\n      }\n    };\n  }\n\n  //初始化所有Table所有列的数组\n  componentWillMount() {\n    this.initColumns(); //初始化所有列的数组方法\n  } //发送异步ajax请求 \n\n\n  componentDidMount() {\n    this.getCategorys();\n  } //初始化列的方法\n\n\n  render() {\n    //读取状态数据\n    const {\n      categorys,\n      loading,\n      subCategorys,\n      parentId,\n      parentName,\n      showStatus\n    } = this.state; // console.log(this.columns)\n    //card的左侧\n\n    const title = parentId === '0' ? '一级分类列表' : /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n        onClick: this.showFirstCategorys,\n        children: \"\\u4E00\\u7EA7\\u5206\\u7C7B\\u5217\\u8868\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Icon, {\n        type: \"arrow-right\",\n        style: {\n          marginRight: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: parentName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this); //card的右侧\n\n    const extra = /*#__PURE__*/_jsxDEV(_Button, {\n      type: \"primary\",\n      onClick: this.add,\n      children: [/*#__PURE__*/_jsxDEV(_Icon, {\n        type: \"plus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), \"\\u6DFB\\u52A0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(_Card, {\n        title: title,\n        extra: extra,\n        children: [/*#__PURE__*/_jsxDEV(_Table, {\n          loading: loading,\n          dataSource: parentId === '0' ? categorys : subCategorys,\n          columns: this.columns,\n          bordered: true,\n          rowKey: \"_id\",\n          pagination: {\n            defaultPageSize: 8,\n            showQuickJumper: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n          title: \"\\u6DFB\\u52A0\\u5206\\u7C7B\",\n          visible: showStatus === 1 ? true : false //添加分类\n          ,\n          onOk: this.addCategory,\n          onCancel: this.handleCancel,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n          title: \"\\u66F4\\u65B0\\u5206\\u7C7B\",\n          visible: showStatus === 2 ? true : false //修改分类\n          ,\n          onOk: this.updateCategory,\n          onCancel: this.handleCancel,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/pages/category/index.jsx"],"names":["React","Component","LinkButton","reqCategorys","Category","state","categorys","subCategorys","loading","parentId","parentName","showStatus","initColumns","columns","title","dataIndex","key","width","render","update","showSubCategorys","addCategory","console","log","setState","updateCategory","handleCancel","showFirstCategorys","_id","name","getCategorys","res","status","data","error","componentWillMount","componentDidMount","marginRight","extra","add","defaultPageSize","showQuickJumper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Table, Button, Icon, message, Modal } from 'antd';\r\nimport './index.less'\r\nimport LinkButton from '../../components/link-button'\r\nimport { reqCategorys } from '../../api/index'\r\nexport default class Category extends Component {\r\n    state = {\r\n        categorys: [],   //一级分类列表\r\n        subCategorys: [],  //二级分类列表\r\n        loading: false,   //是否正在获取数据\r\n        parentId: '0', //当前需要显示的分类列表的父分类ID\r\n        parentName: '',  //当前需要显示的分类列表的父分类名称\r\n        showStatus:0 ,//标识添加/更新的确认框是否显示，0：都不显示  1：显示添加 2：显示更新\r\n    }\r\n    //初始化所有Table所有列的数组\r\n    componentWillMount() {\r\n        this.initColumns()   //初始化所有列的数组方法\r\n    }\r\n\r\n    //发送异步ajax请求 \r\n    componentDidMount() {\r\n        this.getCategorys()\r\n    }\r\n    //初始化列的方法\r\n    initColumns = () => {\r\n        this.columns = [\r\n            {\r\n                title: '分类的名称',\r\n                dataIndex: 'name', //显示数据的对应的属性名\r\n                key: 'name',\r\n            },\r\n            {\r\n                title: '操作',\r\n                width: 300,\r\n                dataIndex: '',  //显示数据的对应的属性名\r\n                key: 'x',\r\n                render: (categorys) => (  //返回需要指定的界面标签\r\n                    <span>\r\n                        <LinkButton onClick={this.update}>修改分类</LinkButton>\r\n                        {/* 向事件回调函数传递参数 ：先定义一个匿名函数，在函数调用处理的函数并传入数据*/}\r\n                        {this.state.parentId === '0' ? <LinkButton onClick={() => { this.showSubCategorys(categorys) }}>查看子分类</LinkButton> : null}\r\n                    </span>\r\n                )\r\n            },\r\n        ]\r\n    }\r\n    //点击添加分类\r\n    addCategory=()=>{\r\n       console.log('添加分类')\r\n       this.setState({showStatus:0})\r\n    }\r\n    //更新分类\r\n    updateCategory=()=>{\r\n        this.setState({showStatus:0})\r\n       \r\n    }\r\n\r\n    //取消的按钮:隐藏确认框\r\n    handleCancel=()=>{\r\n       console.log('更新分类')\r\n        this.setState({showStatus:0})\r\n    }\r\n\r\n    //点击一级分类名称回到一级分类列表  更新为显示一级列表状态\r\n    showFirstCategorys = () => {\r\n        this.setState({\r\n            parentId: '0',\r\n            parentName: '',\r\n            subCategorys: []\r\n        })\r\n    }\r\n    //点击查看子分类  显示指定一级分类对象的二级分类列表\r\n    showSubCategorys = (categorys) => {\r\n        //更新状态(异步更新) setState不能立即获取最新的状态：因为setState是异步更新的\r\n        this.setState({\r\n            parentId: categorys._id,\r\n            parentName: categorys.name\r\n        }, () => {\r\n            //  console.log(this.state.parentId)  //在状态更新后且render()后执行\r\n            this.getCategorys()\r\n        }\r\n        )\r\n        //二级分类列表\r\n        // console.log(this.state.parentId,'21321')\r\n        //  this.getCategorys()\r\n    }\r\n\r\n    //异步获取一级、二级分类列表\r\n    getCategorys = async () => {\r\n        //在发送请求前,显示loading\r\n        this.setState({ loading: true })\r\n        //发异步ajax请求，获取数据\r\n        const { parentId } = this.state\r\n        const res = await reqCategorys(parentId)\r\n\r\n        //在请求完成后,隐藏loading\r\n        this.setState({ loading: false })\r\n\r\n        if (res.status === 0) {\r\n            const categorys = res.data    //这个数组可能是一级的，也可能是二级的数组\r\n            //更新状态\r\n            if (parentId === '0') {   //更新一级分类状态\r\n                this.setState({ categorys: categorys })\r\n            } else {\r\n\r\n            } this.setState({ subCategorys: categorys })\r\n        } else {\r\n            message.error('获取分类列表失败')\r\n        }\r\n    }\r\n    render() {\r\n        //读取状态数据\r\n        const { categorys, loading, subCategorys, parentId, parentName,showStatus } = this.state\r\n        // console.log(this.columns)\r\n        //card的左侧\r\n        const title = parentId === '0' ? '一级分类列表' : (\r\n            <span>\r\n                <LinkButton onClick={this.showFirstCategorys}>一级分类列表</LinkButton>\r\n                <Icon type='arrow-right' style={{ marginRight: 10 }}></Icon>\r\n                <span>{parentName}</span>\r\n            </span>\r\n        )\r\n        //card的右侧\r\n        const extra = (\r\n            <Button type=\"primary\" onClick={this.add}>\r\n                <Icon type='plus'></Icon>\r\n                添加\r\n            </Button>\r\n        )\r\n        return (\r\n            <div>\r\n                <Card title={title} extra={extra} >\r\n                    <Table loading={loading} dataSource={parentId === '0' ? categorys : subCategorys} columns={this.columns} bordered rowKey='_id' pagination={{ defaultPageSize: 8, showQuickJumper: true }} />\r\n                    <Modal\r\n                        title=\"添加分类\"\r\n                        visible={showStatus===1?true:false}\r\n                        //添加分类\r\n                        onOk={this.addCategory}\r\n                        onCancel={this.handleCancel}\r\n                    >\r\n                        <p>Some contents...</p>\r\n                        <p>Some contents...</p>\r\n                        <p>Some contents...</p>\r\n                    </Modal>\r\n                    <Modal\r\n                        title=\"更新分类\"\r\n                        visible={showStatus===2?true:false}\r\n                        //修改分类\r\n                        onOk={this.updateCategory}\r\n                        onCancel={this.handleCancel}\r\n                    >\r\n                        <p>Some contents...</p>\r\n                        <p>Some contents...</p>\r\n                        <p>Some contents...</p>\r\n                    </Modal>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}