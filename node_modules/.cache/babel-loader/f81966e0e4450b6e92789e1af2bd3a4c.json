{"ast":null,"code":"import ajax from './ajax';\nimport jsonp from 'jsonp'; //包含应用中所有接口请求函数的模块，每个函数的返回值都是promise\n// const BASE='http://localhost:xxxx' \n//1.登录的方法\n// export function reqLogin(username,password){\n//     return ajax('login',{username,password},'POST')\n// }\n// export const reqLogin=(username,password)=>{return ajax('login',{username,password},'POST')}\n\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST'); //2.添加用户的接口 \n\nexport const addUser = user => ajax('/manage/user/add', {\n  user\n}, 'POST'); //3.查询天气的接口 jsonp\n\nexport const reqWeather = city => {\n  const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=415e6bd79a6275825d0891f821766054&city=${city}&extensions=base&output=JSON`; //发送jsonp请求\n\n  jsonp(url, {}, (error, data) => {\n    console.log(\"jsonp\", error, data); //如果成功了\n\n    if (!error && data.status === '1') {\n      //取出需要的数据\n      const {\n        city,\n        weather,\n        temperature\n      } = data.lives[0];\n      console.log(city, weather, temperature);\n    } else {//失败了\n    }\n  });\n};\nreqWeather('410100');","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","addUser","user","reqWeather","city","url","error","data","console","log","status","weather","temperature","lives"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;;AACA,OAAO,MAAMC,QAAQ,GAAC,CAACC,QAAD,EAAUC,QAAV,KAAsBJ,IAAI,CAAC,QAAD,EAAU;AAACG,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CAAzC,C,CAGP;;AACA,OAAO,MAAMC,OAAO,GAAEC,IAAD,IAASN,IAAI,CAAC,kBAAD,EAAoB;AAACM,EAAAA;AAAD,CAApB,EAA2B,MAA3B,CAA3B,C,CAEP;;AACA,OAAO,MAAMC,UAAU,GAAEC,IAAD,IAAQ;AAC5B,QAAMC,GAAG,GAAE,6FAA4FD,IAAK,8BAA5G,CAD4B,CAE5B;;AACAP,EAAAA,KAAK,CAACQ,GAAD,EAAK,EAAL,EAAQ,CAACC,KAAD,EAAOC,IAAP,KAAc;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBH,KAApB,EAA0BC,IAA1B,EADuB,CAEvB;;AACA,QAAG,CAACD,KAAD,IAAQC,IAAI,CAACG,MAAL,KAAc,GAAzB,EAA6B;AACzB;AACA,YAAM;AAACN,QAAAA,IAAD;AAAMO,QAAAA,OAAN;AAAcC,QAAAA;AAAd,UAA2BL,IAAI,CAACM,KAAL,CAAW,CAAX,CAAjC;AACFL,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ,EAAiBO,OAAjB,EAAyBC,WAAzB;AACD,KAJD,MAIK,CACL;AACC;AACJ,GAVI,CAAL;AAWH,CAdM;AAePT,UAAU,CAAC,QAAD,CAAV","sourcesContent":["import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\n\r\n//包含应用中所有接口请求函数的模块，每个函数的返回值都是promise\r\n// const BASE='http://localhost:xxxx' \r\n//1.登录的方法\r\n\r\n// export function reqLogin(username,password){\r\n//     return ajax('login',{username,password},'POST')\r\n// }\r\n\r\n// export const reqLogin=(username,password)=>{return ajax('login',{username,password},'POST')}\r\nexport const reqLogin=(username,password)=> ajax('/login',{username,password},'POST')\r\n\r\n\r\n//2.添加用户的接口 \r\nexport const addUser=(user)=> ajax('/manage/user/add',{user},'POST')\r\n\r\n//3.查询天气的接口 jsonp\r\nexport const reqWeather=(city)=>{\r\n    const url=`https://restapi.amap.com/v3/weather/weatherInfo?key=415e6bd79a6275825d0891f821766054&city=${city}&extensions=base&output=JSON`\r\n    //发送jsonp请求\r\n    jsonp(url,{},(error,data)=>{\r\n        console.log(\"jsonp\",error,data)\r\n        //如果成功了\r\n        if(!error&&data.status==='1'){\r\n            //取出需要的数据\r\n            const {city,weather,temperature}=data.lives[0]\r\n          console.log(city,weather,temperature)\r\n        }else{\r\n        //失败了\r\n        }\r\n    })\r\n}\r\nreqWeather('410100')\r\n"]},"metadata":{},"sourceType":"module"}