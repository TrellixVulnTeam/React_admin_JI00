{"ast":null,"code":"import \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport ajax from './ajax';\nimport jsonp from 'jsonp';\n//包含应用中所有接口请求函数的模块，每个函数的返回值都是promise\n// const BASE='http://localhost:xxxx' \n//1.登录的方法\n// export function reqLogin(username,password){\n//     return ajax('login',{username,password},'POST')\n// }\n// export const reqLogin=(username,password)=>{return ajax('login',{username,password},'POST')}\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST'); //2.添加用户的接口 \n\nexport const addUser = user => ajax('/manage/user/add', {\n  user\n}, 'POST'); //3.查询天气的接口 jsonp\n\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=415e6bd79a6275825d0891f821766054&city=${city}&extensions=base&output=JSON`; //发送jsonp请求\n\n    jsonp(url, {}, (error, data) => {\n      // console.log(\"jsonp\",error,data)\n      //如果成功了\n      if (!error && data.status === '1') {\n        //取出需要的数据\n        const {\n          city,\n          weather,\n          temperature\n        } = data.lives[0];\n        resolve({\n          city,\n          weather,\n          temperature\n        }); //   console.log(city,weather,temperature)\n      } else {\n        //失败了\n        _message.error('获取天气信息失败');\n      }\n    });\n  });\n}; // reqWeather('410100')\n//4.获取分类一级、二级分类的列表\n// export const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId:parentId})\n\nexport const reqCategorys = parentId => ajax('/manage/category/list', {\n  parentId\n}); // 5.添加分类\n\nexport const reqAddCategory = (categoryName, parentId) => ajax('/manage/category/add', {\n  categoryName,\n  parentId\n}, \"POST\"); //6.更新分类\n\nexport const reqUpdateCategory = ({\n  categoryId,\n  categoryName\n}) => ajax('/manage/category/update', {\n  categoryId,\n  categoryName\n}, \"POST\"); //7.获取商品分页列表的方法\n\nexport const reqProducts = (pageNum, pageSize) => ajax('/manage/product/list', {\n  pageNum,\n  pageSize\n}); //8.搜索商品分页列表\n//搜索的类型   productName/productDesc\n\nexport const reqSearchProducts = ({\n  pageSize,\n  pageNum,\n  searchName,\n  searchType\n}) => ajax('/manage/product/search', {\n  pageNum,\n  pageSize,\n  [searchType]: searchName\n}); //9.获取id一个分类\n\nexport const reqCategory = categoryId => ajax('/manage/category/info', {\n  categoryId\n}); //10.更新商品的上架，下架\n\nexport const reqUpdateSataus = (productId, status) => ajax('/manage/product/updateStatus', {\n  productId,\n  status\n}, 'POST'); //11.删除上传图片的接口\n\nexport const reqDeleteImg = name => ajax('/manage/img/delete', {\n  name\n}, 'POST'); //12.添加/修改商品\n\nexport const reqAddProductOrUpdateProduct = product => ajax('/manage/product/' + (product._id ? 'update' : 'add'), product, 'POST'); //12.获取所有角色的列表\n\nexport const reqRoles = () => ajax('/manage/role/list'); //13.添加角色的方法\n\nexport const reqAddRole = roleName => ajax('/manage/role/add', {\n  roleName\n}, \"POST\"); //14 .更新角色权限的方法\n\nexport const reqUpdateRole = role => ajax('/manage/role/update', role, 'POST'); //15.获取所有用户的方法\n\nexport const reqUsers = () => ajax('/manage/user/list', \"GET\");","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","addUser","user","reqWeather","city","Promise","resolve","reject","url","error","data","status","weather","temperature","lives","reqCategorys","parentId","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqProducts","pageNum","pageSize","reqSearchProducts","searchName","searchType","reqCategory","reqUpdateSataus","productId","reqDeleteImg","name","reqAddProductOrUpdateProduct","product","_id","reqRoles","reqAddRole","roleName","reqUpdateRole","role","reqUsers"],"mappings":"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","sourcesContent":["import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\nimport { message } from 'antd'\r\n\r\n//包含应用中所有接口请求函数的模块，每个函数的返回值都是promise\r\n// const BASE='http://localhost:xxxx' \r\n//1.登录的方法\r\n\r\n// export function reqLogin(username,password){\r\n//     return ajax('login',{username,password},'POST')\r\n// }\r\n\r\n// export const reqLogin=(username,password)=>{return ajax('login',{username,password},'POST')}\r\nexport const reqLogin=(username,password)=> ajax('/login',{username,password},'POST')\r\n\r\n\r\n//2.添加用户的接口 \r\nexport const addUser=(user)=> ajax('/manage/user/add',{user},'POST')\r\n\r\n//3.查询天气的接口 jsonp\r\nexport const reqWeather=(city)=>{\r\n\r\n    return new Promise((resolve,reject)=>{\r\n        const url=`https://restapi.amap.com/v3/weather/weatherInfo?key=415e6bd79a6275825d0891f821766054&city=${city}&extensions=base&output=JSON`\r\n        //发送jsonp请求\r\n        jsonp(url,{},(error,data)=>{\r\n            // console.log(\"jsonp\",error,data)\r\n            //如果成功了\r\n            if(!error&&data.status==='1'){\r\n                //取出需要的数据\r\n                const {city,weather,temperature}=data.lives[0]\r\n                resolve({city,weather,temperature})\r\n            //   console.log(city,weather,temperature)\r\n            }else{\r\n            //失败了\r\n                message.error('获取天气信息失败')\r\n            }\r\n        })\r\n    })\r\n  \r\n}\r\n// reqWeather('410100')\r\n\r\n//4.获取分类一级、二级分类的列表\r\n// export const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId:parentId})\r\nexport const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId})\r\n\r\n// 5.添加分类\r\nexport const reqAddCategory=(categoryName,parentId)=>ajax('/manage/category/add',{categoryName,parentId},\"POST\")\r\n\r\n//6.更新分类\r\nexport const reqUpdateCategory=({categoryId,categoryName})=>ajax('/manage/category/update',{categoryId,categoryName},\"POST\")\r\n\r\n//7.获取商品分页列表的方法\r\nexport const reqProducts=(pageNum,pageSize)=>ajax('/manage/product/list',{pageNum,pageSize})\r\n\r\n//8.搜索商品分页列表\r\n//搜索的类型   productName/productDesc\r\nexport const reqSearchProducts=({pageSize,pageNum,searchName,searchType})=>ajax('/manage/product/search',{\r\n    pageNum,\r\n    pageSize,\r\n    [searchType]:searchName\r\n})\r\n\r\n//9.获取id一个分类\r\nexport const reqCategory=(categoryId)=>ajax('/manage/category/info',{categoryId})\r\n\r\n//10.更新商品的上架，下架\r\nexport const reqUpdateSataus=(productId,status)=>ajax('/manage/product/updateStatus',{productId,status},'POST')\r\n\r\n//11.删除上传图片的接口\r\nexport const reqDeleteImg=(name)=>ajax('/manage/img/delete',{name},'POST')\r\n\r\n//12.添加/修改商品\r\nexport const reqAddProductOrUpdateProduct=(product)=>ajax('/manage/product/'+(product._id?'update':'add'),product,'POST')\r\n\r\n//12.获取所有角色的列表\r\nexport  const reqRoles=()=>ajax('/manage/role/list')\r\n\r\n//13.添加角色的方法\r\nexport const reqAddRole=(roleName)=>ajax('/manage/role/add',{roleName},\"POST\")\r\n//14 .更新角色权限的方法\r\nexport const reqUpdateRole=(role)=>ajax('/manage/role/update',role,'POST')\r\n\r\n//15.获取所有用户的方法\r\nexport const reqUsers=()=>ajax('/manage/user/list',\"GET\")\r\n\r\n"]},"metadata":{},"sourceType":"module"}