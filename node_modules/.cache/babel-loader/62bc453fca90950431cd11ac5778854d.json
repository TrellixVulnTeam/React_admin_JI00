{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"C:\\\\Users\\\\itryl\\\\Desktop\\\\React client\\\\client\\\\src\\\\pages\\\\category\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport './index.less';\nimport LinkButton from '../../components/link-button';\nimport { reqCategorys } from '../../api/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Category extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categorys: [] //一级分类列表\n\n    };\n\n    this.initColumns = () => {\n      this.columns = [{\n        title: '分类的名称',\n        dataIndex: 'name',\n        //显示数据的对应的属性名\n        key: 'name'\n      }, {\n        title: '操作',\n        width: 300,\n        dataIndex: '',\n        //显示数据的对应的属性名\n        key: 'x',\n        render: () =>\n        /*#__PURE__*/\n        //返回需要指定的界面标签\n        _jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n            onClick: this.a,\n            children: \"\\u4FEE\\u6539\\u5206\\u7C7B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            onClick: this.b,\n            children: \"\\u67E5\\u770B\\u5B50\\u5206\\u7C7B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)\n      }];\n    };\n\n    this.getCategorys = async () => {\n      //发异步ajax请求，获取数据\n      const res = await reqCategorys('0');\n\n      if (res.status === 0) {\n        const categorys = res.data; //  console.log(categorys)\n        //更新状态\n\n        this.setState({\n          categorys\n        });\n      } else {\n        _message.error('获取分类列表失败');\n      }\n    };\n  }\n\n  //初始化所有Table所有列的数组\n  componentWillMount() {\n    this.initColumns(); //初始化所有列的数组方法\n  } //发送异步ajax请求 \n\n\n  componentDidMount() {\n    this.getCategorys();\n  } //初始化列的方法\n\n\n  render() {\n    //读取状态数据\n    const {\n      categorys\n    } = this.state; // console.log(this.columns)\n    //card的左侧\n\n    const title = '一级分类列表'; //card的右侧\n\n    const extra = /*#__PURE__*/_jsxDEV(_Button, {\n      type: \"primary\",\n      children: [/*#__PURE__*/_jsxDEV(_Icon, {\n        type: \"plus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), \"\\u6DFB\\u52A0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(_Card, {\n        title: title,\n        extra: extra,\n        children: /*#__PURE__*/_jsxDEV(_Table, {\n          loading: true,\n          dataSource: categorys,\n          columns: this.columns,\n          bordered: true,\n          rowKey: \"_id\",\n          pagination: {\n            defaultPageSize: 8,\n            showQuickJumper: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/pages/category/index.jsx"],"names":["React","Component","LinkButton","reqCategorys","Category","state","categorys","initColumns","columns","title","dataIndex","key","width","render","a","b","getCategorys","res","status","data","setState","error","componentWillMount","componentDidMount","extra","defaultPageSize","showQuickJumper"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,cAAP;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAAQC,YAAR,QAA2B,iBAA3B;;AACA,eAAe,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC5CI,KAD4C,GACtC;AACFC,MAAAA,SAAS,EAAC,EADR,CACc;;AADd,KADsC;;AAAA,SAc5CC,WAd4C,GAchC,MAAI;AACb,WAAKC,OAAL,GAAe,CACV;AACIC,QAAAA,KAAK,EAAE,OADX;AAEIC,QAAAA,SAAS,EAAE,MAFf;AAEuB;AACnBC,QAAAA,GAAG,EAAE;AAHT,OADU,EAMV;AACIF,QAAAA,KAAK,EAAE,IADX;AAEIG,QAAAA,KAAK,EAAC,GAFV;AAGIF,QAAAA,SAAS,EAAE,EAHf;AAGoB;AAChBC,QAAAA,GAAG,EAAE,GAJT;AAKIE,QAAAA,MAAM,EAAE;AAAA;AAAS;AACb;AAAA,kCACI,QAAC,UAAD;AAAY,YAAA,OAAO,EAAE,KAAKC,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,UAAD;AAAY,YAAA,OAAO,EAAE,KAAKC,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AANR,OANU,CAAf;AAmBF,KAlC2C;;AAAA,SAqC5CC,YArC4C,GAqC/B,YAAS;AAClB;AACD,YAAMC,GAAG,GAAE,MAAMd,YAAY,CAAC,GAAD,CAA7B;;AACA,UAAGc,GAAG,CAACC,MAAJ,KAAa,CAAhB,EAAkB;AAChB,cAAMZ,SAAS,GAAGW,GAAG,CAACE,IAAtB,CADgB,CAEjB;AACA;;AACA,aAAKC,QAAL,CAAc;AAACd,UAAAA;AAAD,SAAd;AACA,OALD,MAKM;AACF,iBAAQe,KAAR,CAAc,UAAd;AACH;AACH,KAhD2C;AAAA;;AAI5C;AACAC,EAAAA,kBAAkB,GAAE;AAChB,SAAKf,WAAL,GADgB,CACK;AACxB,GAP2C,CAS5C;;;AACAgB,EAAAA,iBAAiB,GAAE;AACf,SAAKP,YAAL;AACH,GAZ2C,CAa5C;;;AAoCAH,EAAAA,MAAM,GAAG;AACL;AACA,UAAO;AAACP,MAAAA;AAAD,QAAY,KAAKD,KAAxB,CAFK,CAGL;AACA;;AACA,UAAMI,KAAK,GAAG,QAAd,CALK,CAML;;AACA,UAAMe,KAAK,gBACP;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAA,8BACI;AAAM,QAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;;AAMA,wBACI;AAAA,6BACI;AAAM,QAAA,KAAK,EAAEf,KAAb;AAAoB,QAAA,KAAK,EAAEe,KAA3B;AAAA,+BACI;AAAO,UAAA,OAAO,EAAE,IAAhB;AAAsB,UAAA,UAAU,EAAElB,SAAlC;AAA6C,UAAA,OAAO,EAAE,KAAKE,OAA3D;AAAsE,UAAA,QAAQ,MAA9E;AAA+E,UAAA,MAAM,EAAC,KAAtF;AAA4F,UAAA,UAAU,EAAE;AAACiB,YAAAA,eAAe,EAAC,CAAjB;AAAmBC,YAAAA,eAAe,EAAC;AAAnC;AAAxG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH;;AArE2C","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Table, Button, Icon,message } from 'antd';\r\nimport './index.less'\r\nimport LinkButton from '../../components/link-button'\r\nimport {reqCategorys} from '../../api/index'\r\nexport default class Category extends Component {\r\n    state={\r\n        categorys:[],   //一级分类列表\r\n    }\r\n    //初始化所有Table所有列的数组\r\n    componentWillMount(){\r\n        this.initColumns()   //初始化所有列的数组方法\r\n    }\r\n\r\n    //发送异步ajax请求 \r\n    componentDidMount(){\r\n        this.getCategorys()\r\n    }\r\n    //初始化列的方法\r\n    initColumns=()=>{\r\n       this.columns = [\r\n            {\r\n                title: '分类的名称',  \r\n                dataIndex: 'name', //显示数据的对应的属性名\r\n                key: 'name',\r\n            },\r\n            {\r\n                title: '操作', \r\n                width:300,\r\n                dataIndex: '',  //显示数据的对应的属性名\r\n                key: 'x',\r\n                render: () => (  //返回需要指定的界面标签\r\n                    <span>\r\n                        <LinkButton onClick={this.a}>修改分类</LinkButton>\r\n                        <LinkButton onClick={this.b}>查看子分类</LinkButton>\r\n                    </span>\r\n                )\r\n            },\r\n        ]\r\n    } \r\n\r\n    //异步获取一级分类列表\r\n    getCategorys=async()=>{\r\n        //发异步ajax请求，获取数据\r\n       const res= await reqCategorys('0')\r\n       if(res.status===0){\r\n         const categorys=  res.data\r\n        //  console.log(categorys)\r\n        //更新状态\r\n        this.setState({categorys})\r\n       }else {  \r\n           message.error('获取分类列表失败')\r\n       }\r\n    }\r\n    render() {\r\n        //读取状态数据\r\n        const  {categorys}=this.state\r\n        // console.log(this.columns)\r\n        //card的左侧\r\n        const title = '一级分类列表'\r\n        //card的右侧\r\n        const extra = (\r\n            <Button type=\"primary\">\r\n                <Icon type='plus'></Icon>\r\n                添加\r\n            </Button>\r\n        )\r\n        return (\r\n            <div>\r\n                <Card title={title} extra={extra} >\r\n                    <Table loading={true} dataSource={categorys} columns={this.columns}   bordered rowKey='_id' pagination={{defaultPageSize:8,showQuickJumper:true}}/>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}