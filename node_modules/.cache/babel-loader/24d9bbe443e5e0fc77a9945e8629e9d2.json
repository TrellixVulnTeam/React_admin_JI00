{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/list/style\";\nimport _List from \"antd/es/list\";\nvar _jsxFileName = \"C:\\\\Users\\\\itryl\\\\Desktop\\\\React client\\\\client\\\\src\\\\pages\\\\products\\\\detail.jsx\";\nimport React, { Component } from 'react';\nimport LinkButton from '../../components/link-button';\nimport { BASE_IMG_URL } from '../../utils/constants';\nimport { reqCategory } from '../../api/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Item = _List.Item; //product的详情的子路由组件\n\nexport default class ProductDetail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cName1: '',\n      //一级分类名称\n      cName2: '' //二级分类名称\n\n    };\n  }\n\n  async componentDidMount() {\n    //得到当前商品的父id 和自己id\n    const {\n      pCategoryId,\n      categoryId\n    } = this.props.location.state.product;\n\n    if (pCategoryId === '0') {\n      //一级分类下的商品\n      const result = await reqCategory(categoryId);\n      const cName1 = result.data.name;\n      this.setState({\n        cName1\n      });\n    } else {\n      //二级分类下的商品\n      const result1 = await reqCategory(pCategoryId);\n      const result2 = await reqCategory(categoryId);\n      const cName1 = result1.data.name;\n      const cName2 = result2.data.name;\n      this.setState({\n        cName1,\n        cName2\n      });\n    }\n  }\n\n  render() {\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n        children: /*#__PURE__*/_jsxDEV(_Icon, {\n          type: \"arrow-left\",\n          style: {\n            marginRight: 10,\n            fontSize: 20\n          },\n          onClick: () => {\n            this.props.history.goBack();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        type: \"primary\",\n        children: \"\\u5546\\u54C1\\u8BE6\\u60C5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this); //读取传递过来的state数据\n\n\n    const {\n      name,\n      desc,\n      price,\n      detail,\n      imgs\n    } = this.props.location.state.product;\n    const {\n      cName1,\n      cName2\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      className: \"product-detail\",\n      children: /*#__PURE__*/_jsxDEV(_List, {\n        children: [/*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u540D\\u79F0\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u63CF\\u8FF0\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [desc, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u4EF7\\u683C\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u6240\\u5C5E\\u5206\\u7C7B\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [cName1, \"' --> '+\", cName2, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u56FE\\u7247\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: imgs.map(item => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: BASE_IMG_URL + item,\n              className: \"product-img\",\n              alt: \"img\"\n            }, item, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u8BE6\\u60C5\\uFF1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: detail\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/itryl/Desktop/React client/client/src/pages/products/detail.jsx"],"names":["React","Component","LinkButton","BASE_IMG_URL","reqCategory","Item","ProductDetail","state","cName1","cName2","componentDidMount","pCategoryId","categoryId","props","location","product","result","data","name","setState","result1","result2","render","title","marginRight","fontSize","history","goBack","desc","price","detail","imgs","map","item","__html"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Icon, List } from 'antd'\r\nimport LinkButton from '../../components/link-button'\r\nimport {BASE_IMG_URL} from '../../utils/constants'\r\nimport {reqCategory} from '../../api/index'\r\nconst Item = List.Item\r\n//product的详情的子路由组件\r\nexport default class ProductDetail extends Component {\r\n    state={\r\n        cName1:'', //一级分类名称\r\n        cName2:''  //二级分类名称\r\n    }\r\n  async  componentDidMount(){\r\n        //得到当前商品的父id 和自己id\r\n        const {pCategoryId,categoryId}=this.props.location.state.product\r\n        if(pCategoryId==='0'){ //一级分类下的商品\r\n            const result=  await reqCategory(categoryId)\r\n            const cName1=result.data.name\r\n            this.setState({cName1})\r\n        }  else{  //二级分类下的商品\r\n            const result1=await reqCategory(pCategoryId)\r\n            const result2=await reqCategory(categoryId)\r\n            const cName1=result1.data.name\r\n            const cName2=result2.data.name\r\n            this.setState({cName1,cName2})\r\n        }\r\n       \r\n    }\r\n    render() {\r\n        const title = (\r\n            <span>\r\n                <LinkButton>\r\n                    <Icon type='arrow-left' style={{ marginRight: 10, fontSize: 20 }}\r\n                        onClick={() => { this.props.history.goBack() }}></Icon>\r\n                </LinkButton>\r\n                <span type='primary'>商品详情</span>\r\n            </span>\r\n        )\r\n        //读取传递过来的state数据\r\n        const { name, desc, price, detail, imgs} = this.props.location.state.product\r\n        const {cName1,cName2}=this.state\r\n        return (\r\n            <Card title={title} className='product-detail'>\r\n                <List>\r\n                    <Item>\r\n                        <span className='left'>商品名称：</span>\r\n                        <span>{name}</span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品描述：</span>\r\n                        <span>{desc} </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品价格：</span>\r\n                        <span>{price}</span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>所属分类：</span>\r\n                        <span>{cName1}' --> '+{cName2} </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品图片：</span>\r\n                        <span>\r\n                            {\r\n                                imgs.map(item => (\r\n                                    <img\r\n                                        key={item}\r\n                                        src={BASE_IMG_URL + item}\r\n                                        className=\"product-img\"\r\n                                        alt=\"img\"\r\n                                    />\r\n                                ))\r\n                            }\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品详情：</span>\r\n                        <span dangerouslySetInnerHTML={{ __html: detail }}>\r\n                        </span>\r\n                    </Item>\r\n                </List>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}